<!-- p-draggable - enter omogućava hover efekt na drop zoni pDroppable - definira
drop zonu drop - definira što će se dogoditi kad se sputi item tu dragover -
definira što se događa kada se drži na drop zoni item prije spuštanja
p-draggable-enter - kada draggable uđe u droppable zonu, onda div poprimi ovu klasu
PrimeNG klasu# feef# -->

<div
  class="drop-column"
  [ngClass]="{ 'p-draggable-enter': isDragOver }"
  pDroppable="true"
  (drop)="onDrop($event)"
  (dragover)="onDragOver($event)"
>
  <p-table
    [value]="(items$ | async)!"
    [columns]="cols"
    (onRowReorder)="onRowReorder($event)"
  >
    <ng-template pTemplate="caption">
      <div
        class="flex flex-column md:flex-row md:justify-content-between md:align-items-center"
      >
        <h5 class="m-0">{{ generateCaption(weekDayDate) }}</h5>
      </div>
    </ng-template>
    <ng-template
      pTemplate="body"
      let-rowData
      let-columns="columns"
      let-index="rowIndex"
    >
      <tr
        [pReorderableRow]="index"
        pDraggable="true"
        (dragstart)="onDragStart($event, rowData, index)"
        (onDragEnd)="dragEnd()"
      >
        <td class="w-2rem">
          <span class="pi pi-bars" pReorderableRowHandle></span>
        </td>
        @for (col of columns; track col) {
        <td [ngStyle]="{ 'text-align': col.align }">
          <span>{{ rowData[col.field] }}</span>
        </td>
        }
        <td class="w-8rem">
          <div class="flex justify-content-end">
            <button
              pButton
              pRipple
              icon="pi pi-check"
              class="p-button-rounded p-button-success mr-2"
              (click)="completeItem(rowData)"
            ></button>
            <button
              pButton
              pRipple
              icon="pi pi-pencil"
              class="p-button-rounded p-button-info mr-2"
              (click)="editItem(rowData)"
            ></button>
            <button
              pButton
              pRipple
              icon="pi pi-replay"
              class="p-button-rounded p-button-warning mr-2"
              (click)="returnItemTaskToGroup(rowData)"
            ></button>
            <button
              pButton
              pRipple
              icon="pi pi-trash"
              class="p-button-rounded p-button-danger"
              (click)="deleteItem(rowData)"
            ></button>
          </div>
        </td>
      </tr>
    </ng-template>
  </p-table>
</div>
