<form [formGroup]="form" style="height: 500px">
  <div class="field flex flex-column">
    <label for="description">* Opis</label>
    <input
      type="text"
      pInputText
      id="name"
      formControlName="description"
      autofocus
      [ngClass]="{
        'ng-invalid ng-dirty': description?.invalid && description?.dirty
      }"
    />
    @if (description?.invalid && description?.dirty) {
    <small class="ng-dirty ng-invalid"> Opis je obavezan. </small>
    }
  </div>

  <div class="field">
    <label for="recurring">* Tip taska</label>
    <p-selectButton
      [options]="stateOptions"
      formControlName="recurring"
      optionLabel="label"
      optionValue="value"
    >
    </p-selectButton>
  </div>

  <div class="field">
    <label class="w-full" for="dueDate">Krajnji rok </label>
    <p-calendar
      formControlName="dueDate"
      [showButtonBar]="true"
      dateFormat="dd/mm/yy"
    ></p-calendar>
  </div>

  <div class="field">
    <label for="recurring">Automatsko kreiranje novog taska po završetku</label>
    <p-selectButton
      [options]="renewOptions"
      formControlName="renewOnDueDate"
      optionLabel="label"
      optionValue="value"
    >
    </p-selectButton>
  </div>

  <div class="field flex justify-content-center">
    <div class="flex flex-wrap gap-3">
      <div class="flex align-items-center">
        <p-radioButton
          name="intervalType"
          [value]="intervalType.Days"
          formControlName="intervalType"
          inputId="ingredient1"
        />
        <label for="ingredient1" class="ml-2"> Dani </label>
      </div>

      <div class="flex align-items-center">
        <p-radioButton
          name="intervalType"
          [value]="intervalType.Months"
          formControlName="intervalType"
          inputId="ingredient2"
        />
        <label for="ingredient2" class="ml-2"> Mjeseci </label>
      </div>
    </div>
  </div>

  <div class="field">
    <label class="w-full" for="intervalValue"
      >Broj dana/mjeseci između svakog taska
    </label>
    <p-inputNumber formControlName="intervalValue"> </p-inputNumber>
  </div>
</form>

<!-- ne smije biti unutar form jer cancel napravit refresh cijelog page-a -->
<button
  pButton
  pRipple
  label="Odustani"
  icon="pi pi-times"
  class="p-button-text"
  (click)="hideDialog()"
></button>
<button
  pButton
  [disabled]="form.invalid"
  label="Spremi"
  icon="pi pi-check"
  class="p-button-text"
  (click)="saveItem()"
></button>
